# Contributing

Thanks for helping improve the Gitea extension.

## Development Setup

1. Install dependencies: `npm install`
2. Start Raycast dev mode: `npm run dev`

Raycast will load the extension in developer mode. Use Raycast's command search to run the commands listed in `package.json`.

## Project Layout

- `src/`: Extension commands and shared logic
- `assets/`: Icons and language metadata
- `scripts/`: Helper scripts for generating data

## Scripts

- `npm run gen:swagger`: Converts Swagger v2 to v3 and generates `openapi.json`
- `npm run gen:types`: Generates TypeScript types from `openapi.json`
- `npm run gen:langs`: Regenerates `assets/languages.json` from GitHub Linguist

## OpenAPI / Swagger Workflow

Gitea provides a Swagger v2 (OpenAPI 2.0) spec. This project converts it to OpenAPI 3 and generates types.

Typical flow:

1. Update or replace `swagger.v1.json` with the latest spec from your Gitea instance (http(s)://<your-gitea-instance>/swagger.v1.json).
2. Convert v2 to v3: `npm run gen:swagger` (creates `openapi.json`)
3. Generate types: `npm run gen:types` (writes `src/types/gitea.d.ts`)

Re-run these steps whenever endpoints or models change in Gitea.

## Language Metadata

`assets/languages.json` is generated from [GitHub Linguist project](https://github.com/github-linguist/linguist). It can be re-generated by running:

- `npm run gen:langs`

## Code Quality

- Lint: `npm run lint`
- Auto-fix lint: `npm run fix-lint`
- Type check: `npm run type-check`

## Build

Run a production build before opening a PR:

- `npm run build`
